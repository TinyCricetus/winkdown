# Winkdown
An richtext editor base on SlateJS.



1. 使用懒加载对 PPT 编辑页与缩略图列表进行延迟渲染，避免瞬时节点过多渲染的性能问题。
2. 削减不必要的渲染层级，在扁平化的同时对 PPT 元素的形状数据进行二次处理，剔除视觉上的重复数据（例如：旋转 360 度之类的）。
3. 单向数据流，在 React 状态中，单独对编辑器的内容更新使用了单向数据更新，使得编辑器的状态更新与渲染分离，避免了 React 的性能问题。
4. 优化编辑器事件，将编辑器的事件处理成更加具体的类型，例如纯文本更新、格式更新等，使得上层能做更细腻度的优化（例如：针对某类变更进行防抖）。
5. 长链接，进一步封装 WS 服务，将 Websocket 内的 OP 请求处理为 Promise 更方便调用，同时内置数据缓存机制，避免断网内容丢失。
6. 历史记录合并，移除编辑器自带的历史纪录功能，基于 PPT 整体重新设计了一套通用的历史状态管理，避免多种历史纪录共存带来的问题。


